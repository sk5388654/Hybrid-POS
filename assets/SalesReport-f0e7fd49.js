import{d as k,i as S,h as F,C as E,r as C,c as n,p as B,o,a as d,b as t,t as e,y as i,n as m,F as y,e as u,w as M,v as N}from"./index-0d35fcb3.js";const j={class:"space-y-6"},W={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},L={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},P={class:"mt-2 text-2xl font-semibold text-gray-900"},D={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},I={class:"mt-2 text-2xl font-semibold text-red-600"},V={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},q={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},z={class:"mt-2 text-2xl font-semibold text-gray-900"},A={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},O={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},Q={class:"mt-2 text-2xl font-semibold text-gray-900"},R={class:"mt-1 text-xs text-gray-500"},U={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},G={class:"mt-2 text-2xl font-semibold text-gray-900"},H={class:"mt-1 text-xs text-gray-500"},J={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},K={class:"mt-2 text-2xl font-semibold text-red-600"},X={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},Y={key:0,class:"text-sm text-gray-500"},Z={key:1,class:"grid grid-cols-2 gap-4 sm:grid-cols-5"},$={class:"text-xs text-gray-600"},tt={class:"mt-1 text-lg font-semibold text-red-600"},st={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},et={key:0,class:"text-sm text-gray-500"},ot={key:1,class:"divide-y divide-gray-100"},dt={class:"text-gray-700"},rt={class:"font-medium text-gray-900"},it={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},lt={class:"mb-3 flex items-center justify-between"},at={class:"flex items-center gap-2"},nt={key:0,class:"text-sm text-gray-500"},xt={key:1,class:"divide-y divide-gray-100"},gt={class:"text-gray-700"},ct={class:"text-gray-600"},ut=k({__name:"SalesReport",setup(mt){const a=S(),g=F(),l=E(),c=C(g.lowStockThreshold),h=n(()=>g.products.filter(x=>x.stock<c.value)),v=n(()=>a.todayTotal-l.expensesToday),p=n(()=>a.weekTotal-l.expensesThisWeek),b=n(()=>a.monthTotal-l.expensesThisMonth),_=n(()=>l.expensesByCategory),w=n(()=>{const x=_.value;return Object.keys(x).some(s=>x[s]!==0)});function T(){g.setThreshold(c.value)}return B(()=>{l.load()}),(x,s)=>(o(),d("div",j,[t("div",W,[t("div",L,[s[1]||(s[1]=t("div",{class:"text-sm text-gray-500"},"Total Sales Today",-1)),t("div",P,"₹"+e(i(a).todayTotal.toFixed(2)),1)]),t("div",D,[s[2]||(s[2]=t("div",{class:"text-sm text-gray-500"},"Total Expenses Today",-1)),t("div",I,"₹"+e(i(l).expensesToday.toFixed(2)),1)]),t("div",V,[s[3]||(s[3]=t("div",{class:"text-sm text-gray-500"},"Profit/Loss Today",-1)),t("div",{class:m(["mt-2 text-2xl font-semibold",v.value>=0?"text-green-600":"text-red-600"])}," ₹"+e(v.value.toFixed(2)),3)]),t("div",q,[s[4]||(s[4]=t("div",{class:"text-sm text-gray-500"},"Products In Catalog",-1)),t("div",z,e(i(g).products.length),1)])]),t("div",A,[t("div",O,[s[5]||(s[5]=t("div",{class:"text-sm text-gray-500"},"Sales This Week",-1)),t("div",Q,"₹"+e(i(a).weekTotal.toFixed(2)),1),t("div",R,"Expenses: ₹"+e(i(l).expensesThisWeek.toFixed(2)),1),t("div",{class:m(["mt-1 text-sm font-medium",p.value>=0?"text-green-600":"text-red-600"])}," Net: ₹"+e(p.value.toFixed(2)),3)]),t("div",U,[s[6]||(s[6]=t("div",{class:"text-sm text-gray-500"},"Sales This Month",-1)),t("div",G,"₹"+e(i(a).monthTotal.toFixed(2)),1),t("div",H,"Expenses: ₹"+e(i(l).expensesThisMonth.toFixed(2)),1),t("div",{class:m(["mt-1 text-sm font-medium",b.value>=0?"text-green-600":"text-red-600"])}," Net: ₹"+e(b.value.toFixed(2)),3)]),t("div",J,[s[7]||(s[7]=t("div",{class:"text-sm text-gray-500"},"Total Expenses",-1)),t("div",K,"₹"+e(i(l).totalExpenses.toFixed(2)),1)])]),t("div",X,[s[8]||(s[8]=t("h2",{class:"mb-3 text-lg font-semibold text-gray-800"},"Expenses by Category",-1)),w.value?(o(),d("div",Z,[(o(!0),d(y,null,u(_.value,(r,f)=>(o(),d("div",{key:f,class:"rounded-lg border border-gray-100 bg-gray-50 p-3"},[t("div",$,e(f),1),t("div",tt,"₹"+e(r.toFixed(2)),1)]))),128))])):(o(),d("div",Y," No expenses recorded yet. "))]),t("div",st,[s[9]||(s[9]=t("h2",{class:"mb-3 text-lg font-semibold text-gray-800"},"Best Selling Items",-1)),i(a).bestSelling.length===0?(o(),d("div",et,"No sales yet.")):(o(),d("ul",ot,[(o(!0),d(y,null,u(i(a).bestSelling,r=>(o(),d("li",{key:r.id,class:"flex items-center justify-between py-2 text-sm"},[t("span",dt,e(r.name),1),t("span",rt,"Qty: "+e(r.quantity),1)]))),128))]))]),t("div",it,[t("div",lt,[s[11]||(s[11]=t("h2",{class:"text-lg font-semibold text-gray-800"},"Low Stock Alerts",-1)),t("div",at,[s[10]||(s[10]=t("label",{class:"text-sm text-gray-600"},"Threshold",-1)),M(t("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>c.value=r),onChange:T,type:"number",min:"1",class:"w-24 rounded-md border border-gray-300 px-2 py-1 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"},null,544),[[N,c.value,void 0,{number:!0}]])])]),h.value.length===0?(o(),d("div",nt,"No low-stock items.")):(o(),d("ul",xt,[(o(!0),d(y,null,u(h.value,r=>(o(),d("li",{key:r.id,class:"flex items-center justify-between py-2 text-sm"},[t("span",gt,e(r.name),1),t("span",ct,"Stock: "+e(r.stock),1)]))),128))]))])]))}});export{ut as default};
