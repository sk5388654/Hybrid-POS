import{d as C,K as h,k as _,I as S,p as b,c as l,o as u,a as x,b as t,t as n,n as R,E as w}from"./index-0d35fcb3.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";const F={key:0,class:"print-page mx-auto max-w-2xl bg-white p-8 text-sm text-gray-800"},V={class:"text-center text-xs text-gray-500 mb-6"},P={class:"grid grid-cols-2 gap-2"},D={class:"w-full text-sm"},E={class:"divide-y"},A={class:"py-2 text-right"},N={class:"py-2 text-right font-medium"},B={class:"py-2 text-right"},I={class:"py-2 text-right text-red-600"},L={class:"py-2 text-right text-red-600"},M={class:"py-2 text-right font-medium"},O={class:"py-2 text-right font-medium"},T={class:"mt-6 grid grid-cols-2 gap-6"},z={class:"border-t pt-4 text-center"},G={class:"text-xs uppercase text-gray-500"},K={key:1,class:"p-10 text-center text-red-600"},j=C({__name:"PrintClosingVoucher",setup(q){const p=h(),d=_(),m=S(),c=p.params.id;b(()=>{m.load(),d.setCurrentStore()});const o=l(()=>d.vouchers.find(s=>s.id===c)),g=l(()=>{var s;return((s=o.value)==null?void 0:s.discounts)??0}),v=l(()=>{var s;return((s=o.value)==null?void 0:s.refunds)??0}),f=l(()=>{var s;return((s=o.value)==null?void 0:s.expenses)??0}),r=l(()=>{var s;return((s=o.value)==null?void 0:s.expectedClosingCash)??0}),a=l(()=>{var s;return((s=o.value)==null?void 0:s.actualClosingCash)??0}),i=l(()=>{var s;return((s=o.value)==null?void 0:s.difference)??a.value-r.value}),y=()=>{window.print()};return(s,e)=>o.value?(u(),x("div",F,[e[14]||(e[14]=t("h1",{class:"text-xl font-semibold text-center"},"POS Closing Voucher",-1)),t("p",V," Generated "+n(new Date(o.value.createdAt).toLocaleString()),1),t("dl",P,[e[0]||(e[0]=t("dt",{class:"font-medium text-gray-600"},"Store",-1)),t("dd",null,n(o.value.storeName),1),e[1]||(e[1]=t("dt",{class:"font-medium text-gray-600"},"Cashier",-1)),t("dd",null,n(o.value.cashierName),1),e[2]||(e[2]=t("dt",{class:"font-medium text-gray-600"},"Shift Start",-1)),t("dd",null,n(new Date(o.value.shiftStart).toLocaleString()),1),e[3]||(e[3]=t("dt",{class:"font-medium text-gray-600"},"Shift End",-1)),t("dd",null,n(new Date(o.value.shiftEnd).toLocaleString()),1)]),e[15]||(e[15]=t("hr",{class:"my-4"},null,-1)),t("table",D,[t("tbody",E,[t("tr",null,[e[4]||(e[4]=t("td",{class:"py-2"},"Opening Cash",-1)),t("td",A,"Rs "+n(o.value.openingCash.toFixed(2)),1)]),t("tr",null,[e[5]||(e[5]=t("td",{class:"py-2 font-medium text-gray-700"},"Total Sales",-1)),t("td",N,"Rs "+n(o.value.totalSales.toFixed(2)),1)]),t("tr",null,[e[6]||(e[6]=t("td",{class:"py-2"},"Discounts",-1)),t("td",B,"Rs "+n(g.value.toFixed(2)),1)]),t("tr",null,[e[7]||(e[7]=t("td",{class:"py-2"},"Refunds",-1)),t("td",I,"Rs "+n(v.value.toFixed(2)),1)]),t("tr",null,[e[8]||(e[8]=t("td",{class:"py-2"},"Expenses",-1)),t("td",L,"Rs "+n(f.value.toFixed(2)),1)]),t("tr",null,[e[9]||(e[9]=t("td",{class:"py-2 font-medium text-gray-700"},"Expected Closing Cash",-1)),t("td",M,"Rs "+n(r.value.toFixed(2)),1)]),t("tr",null,[e[10]||(e[10]=t("td",{class:"py-2 font-medium text-gray-700"},"Actual Cash",-1)),t("td",O,"Rs "+n(a.value.toFixed(2)),1)]),t("tr",null,[e[11]||(e[11]=t("td",{class:"py-2 font-semibold"},"Difference",-1)),t("td",{class:R(["py-2 text-right font-semibold",i.value===0?"text-green-600":"text-red-600"])}," Rs "+n(i.value.toFixed(2)),3)])])]),e[16]||(e[16]=t("hr",{class:"my-4"},null,-1)),t("p",null,[e[12]||(e[12]=t("strong",null,"Remarks:",-1)),w(" "+n(o.value.remarks||"-"),1)]),t("div",T,[e[13]||(e[13]=t("div",{class:"border-t pt-4 text-center"},[t("p",{class:"text-xs uppercase text-gray-500"},"Cashier Signature")],-1)),t("div",z,[t("p",G," Manager "+n(o.value.managerApproved?"Approved":"Pending"),1)])]),t("button",{class:"mt-8 w-full rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white",onClick:y}," Print ")])):(u(),x("div",K,"Voucher not found."))}});const Q=k(j,[["__scopeId","data-v-15e828c3"]]);export{Q as default};
