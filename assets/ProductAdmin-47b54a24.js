import{d as w,h as C,r as b,l as V,c as P,o as u,a as c,b as o,t as a,w as n,v as l,x as p,f as U,F as N,e as S}from"./index-0d35fcb3.js";import{_ as x}from"./BarcodeDisplay.vue_vue_type_script_setup_true_lang-94ba3dee.js";const B={class:"space-y-6"},M={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},A={class:"mb-3 text-lg font-semibold text-gray-800"},L={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},D={class:"sm:col-span-2"},E={class:"mt-1 flex items-center gap-2"},F={key:0,class:"mt-3"},$={class:"mt-4 flex gap-2"},j={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},q={class:"mb-3 flex items-center justify-between"},I={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Q=["src","alt"],G={class:"mt-2"},R={class:"text-sm font-medium text-gray-900"},T={class:"text-xs text-gray-600"},z={class:"mt-2"},H={class:"mt-3 flex gap-2"},J=["onClick"],K=["onClick"],Y=w({__name:"ProductAdmin",setup(O){const i=C(),m=b(""),e=V({name:"",price:0,image:"https://via.placeholder.com/100",barcode:"",stock:0}),d=b(null),f=P(()=>{const s=m.value.trim().toLowerCase();return s?i.products.filter(t=>t.name.toLowerCase().includes(s)||t.barcode.includes(s)):i.products});function g(){e.name="",e.price=0,e.image="https://via.placeholder.com/100",e.barcode="",e.stock=0,d.value=null}function v(){if(!(!e.name||e.price<0||e.stock<0)){if(d.value==null){const s=e.barcode||String(1e11+Math.floor(Math.random()*9e11));i.add({name:e.name,price:e.price,image:e.image,barcode:s,stock:Number(e.stock??0)})}else i.update(d.value,{name:e.name,price:e.price,image:e.image,barcode:e.barcode,stock:Number(e.stock??0)});g()}}function y(s){d.value=s.id,e.name=s.name,e.price=s.price,e.image=s.image,e.barcode=s.barcode,e.stock=s.stock}function k(s){i.remove(s),d.value===s&&g()}function _(){e.barcode=String(1e11+Math.floor(Math.random()*9e11))}return(s,t)=>(u(),c("div",B,[o("div",M,[o("h2",A,a(d.value==null?"Add Product":"Edit Product"),1),o("div",L,[o("div",null,[t[6]||(t[6]=o("label",{class:"block text-sm text-gray-700"},"Name",-1)),n(o("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>e.name=r),type:"text",class:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"},null,512),[[l,e.name]])]),o("div",null,[t[7]||(t[7]=o("label",{class:"block text-sm text-gray-700"},"Price",-1)),n(o("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>e.price=r),type:"number",min:"0",class:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"},null,512),[[l,e.price,void 0,{number:!0}]])]),o("div",null,[t[8]||(t[8]=o("label",{class:"block text-sm text-gray-700"},"Image URL",-1)),n(o("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>e.image=r),type:"text",class:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"},null,512),[[l,e.image]])]),o("div",null,[t[9]||(t[9]=o("label",{class:"block text-sm text-gray-700"},"Quantity",-1)),n(o("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>e.stock=r),type:"number",min:"0",class:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"},null,512),[[l,e.stock,void 0,{number:!0}]])]),o("div",D,[t[10]||(t[10]=o("label",{class:"block text-sm text-gray-700"},"Barcode",-1)),o("div",E,[n(o("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>e.barcode=r),type:"text",placeholder:"Auto or custom",class:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"},null,512),[[l,e.barcode]]),o("button",{onClick:_,class:"rounded-md border border-gray-300 px-3 py-2 text-sm"},"Generate")]),e.barcode?(u(),c("div",F,[p(x,{value:e.barcode},null,8,["value"])])):U("",!0)])]),o("div",$,[o("button",{onClick:v,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white"},a(d.value==null?"Add Product":"Save Changes"),1),o("button",{onClick:g,class:"rounded-md border border-gray-300 px-4 py-2 text-sm"},"Clear")])]),o("div",j,[o("div",q,[t[11]||(t[11]=o("h2",{class:"text-lg font-semibold text-gray-800"},"Products",-1)),n(o("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>m.value=r),type:"text",placeholder:"Search by name or barcode",class:"w-64 rounded-md border border-gray-300 px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"},null,512),[[l,m.value]])]),o("div",I,[(u(!0),c(N,null,S(f.value,r=>(u(),c("div",{key:r.id,class:"rounded-lg border border-gray-100 p-3 shadow-sm"},[o("img",{src:r.image,alt:r.name,class:"h-24 w-full rounded object-cover"},null,8,Q),o("div",G,[o("div",R,a(r.name),1),o("div",T,"₹"+a(r.price)+" • Quantity: "+a(r.stock),1),o("div",z,[p(x,{value:r.barcode},null,8,["value"])])]),o("div",H,[o("button",{onClick:h=>y(r),class:"rounded-md border border-gray-300 px-3 py-1 text-xs"},"Edit",8,J),o("button",{onClick:h=>k(r.id),class:"rounded-md border border-red-300 bg-red-50 px-3 py-1 text-xs text-red-700"},"Delete",8,K)])]))),128))])])]))}});export{Y as default};
