import{d as j,r as w,c as C,o as g,a as f,b as e,w as q,v as G,F as P,e as L,t as d,n as T,f as V,g as R,u as me,h as ve,i as ge,j as pe,k as xe,l as ee,m as E,p as fe,q as be,s as ye,x as K,y as he,z as De,A as _e,B as te}from"./index-dc7c2917.js";import{_ as ke}from"./InvoiceModal.vue_vue_type_script_setup_true_lang-1d3092ff.js";import"./BarcodeDisplay.vue_vue_type_script_setup_true_lang-10229435.js";import"./_plugin-vue_export-helper-c27b6911.js";const we={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},Ce={class:"mb-4 flex items-center"},$e={class:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4"},Me=["src","alt"],Se={class:"mt-2 flex-1"},Ie={class:"text-sm font-medium text-gray-900"},Ve={class:"mt-1 text-sm text-gray-600"},Te=["disabled","onClick"],Ne=j({__name:"ProductList",props:{products:{},disabled:{type:Boolean}},emits:["add"],setup(m,{emit:p}){const x=m,r=p,_=w(""),a=C(()=>{const c=_.value.trim().toLowerCase();return c?x.products.filter(k=>k.name.toLowerCase().includes(c)):x.products});return(c,k)=>(g(),f("div",we,[e("div",Ce,[q(e("input",{"onUpdate:modelValue":k[0]||(k[0]=b=>_.value=b),type:"text",placeholder:"Search products...",class:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"},null,512),[[G,_.value]])]),e("div",$e,[(g(!0),f(P,null,L(a.value,b=>(g(),f("div",{key:b.id,class:"group flex flex-col rounded-lg border border-gray-100 bg-white p-3 shadow-sm transition hover:shadow-md"},[e("img",{src:b.image,alt:b.name,class:"h-24 w-full rounded-md object-cover"},null,8,Me),e("div",Se,[e("div",Ie,d(b.name),1),e("div",Ve,"₹"+d(b.price),1),e("div",{class:T(["mt-1 text-xs",b.stock>0?"text-gray-500":"text-red-600 font-medium"])},d(b.stock>0?"Stock: "+b.stock:"Out of Stock"),3)]),e("button",{disabled:b.stock===0||x.disabled,onClick:v=>r("add",b),class:"mt-3 rounded-md bg-indigo-600 px-3 py-2 text-sm font-medium text-white disabled:cursor-not-allowed disabled:bg-gray-300"}," Add to Cart ",8,Te)]))),128))])]))}}),Ae={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm"},Fe={key:0,class:"text-sm text-gray-500"},qe={key:1,class:"-mx-2 divide-y divide-gray-100"},Re=["onClick"],Pe={class:"flex items-center gap-3"},je=["src","alt"],Ue={class:"flex-1"},Ee={class:"text-sm font-medium text-gray-900"},Le={class:"text-xs text-gray-500"},Be={class:"text-xs text-gray-500"},Oe={class:"text-xs font-semibold text-gray-800"},Ke={class:"flex flex-col items-end gap-2"},Qe=["max","value","onInput","disabled"],Ge=["onClick","disabled"],ze={class:"grid grid-cols-2 gap-2"},Je=["value","onChange","disabled"],Ye=["value","onInput","disabled"],We={key:2,class:"mt-4 space-y-3 rounded-lg border border-gray-100 bg-gray-50 p-4"},He={class:"flex items-center justify-between text-sm"},Xe={class:"font-medium text-gray-900"},Ze={class:"rounded-md border border-dashed border-gray-300 bg-white p-3"},et={class:"flex items-center justify-between gap-4 text-sm"},tt={class:"flex items-center gap-2"},ot=["value","disabled"],st=["value","disabled"],nt={class:"mt-2 text-right text-xs text-gray-500"},it={class:"flex items-center justify-between text-base font-semibold text-gray-900"},at=["disabled"],lt=j({__name:"Cart",props:{items:{},subtotal:{},invoiceDiscountMode:{},invoiceDiscountValue:{},invoiceDiscountAmount:{},grandTotal:{},selectedId:{},disabled:{type:Boolean}},emits:["updateQty","remove","checkout","select","updateItemDiscount","updateInvoiceDiscountMode","updateInvoiceDiscountValue"],setup(m,{emit:p}){const x=m,r=p,_=C(()=>x.items.length===0);function a(v,s){r("updateItemDiscount",{id:v,mode:s})}function c(v,s){const n=Number(s);r("updateItemDiscount",{id:v,value:Number.isNaN(n)?0:n})}function k(v){const s=v.target.value;r("updateInvoiceDiscountMode",s)}function b(v){const s=Number(v.target.value);r("updateInvoiceDiscountValue",Number.isNaN(s)?0:s)}return(v,s)=>(g(),f("div",Ae,[s[13]||(s[13]=e("h2",{class:"mb-4 text-lg font-semibold text-gray-800"},"Cart",-1)),_.value?(g(),f("div",Fe,"Your cart is empty.")):(g(),f("ul",qe,[(g(!0),f(P,null,L(x.items,n=>(g(),f("li",{key:n.id,class:T(["flex flex-col gap-2 px-2 py-3 rounded-md",m.selectedId===n.id?"bg-indigo-50 ring-1 ring-indigo-200":""]),onClick:$=>r("select",n.id)},[e("div",Pe,[e("img",{src:n.image,alt:n.name,class:"h-12 w-12 rounded object-cover"},null,8,je),e("div",Ue,[e("div",Ee,d(n.name),1),e("div",Le,"Price Rs "+d(n.price.toFixed(2))+" × Qty "+d(n.quantity),1),e("div",Be,"Line Discount Rs "+d(n.lineDiscount.toFixed(2)),1),e("div",Oe,"Line Total Rs "+d(n.lineTotal.toFixed(2)),1)]),e("div",Ke,[e("input",{type:"number",min:"1",max:n.stock,value:n.quantity,onClick:s[0]||(s[0]=R(()=>{},["stop"])),onInput:$=>r("updateQty",n.id,Number($.target.value)),class:"w-20 rounded-md border border-gray-300 px-2 py-1 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",disabled:x.disabled},null,40,Qe),e("button",{onClick:R($=>r("remove",n.id),["stop"]),class:"rounded-md border border-gray-300 px-2 py-1 text-xs text-gray-700 hover:bg-gray-50",title:"Delete",disabled:x.disabled}," Remove ",8,Ge)])]),e("div",ze,[e("div",null,[s[7]||(s[7]=e("label",{class:"block text-xs text-gray-600"},"Discount Type",-1)),e("select",{value:n.discountMode,onClick:s[1]||(s[1]=R(()=>{},["stop"])),onChange:$=>a(n.id,$.target.value),class:"mt-1 w-full rounded-md border border-gray-300 px-2 py-1 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",disabled:x.disabled},[...s[6]||(s[6]=[e("option",{value:"flat"},"Flat",-1),e("option",{value:"percent"},"Percent",-1)])],40,Je)]),e("div",null,[s[8]||(s[8]=e("label",{class:"block text-xs text-gray-600"},"Discount Value",-1)),e("input",{value:n.discountValue,type:"number",min:"0",step:"0.01",onClick:s[2]||(s[2]=R(()=>{},["stop"])),onInput:$=>c(n.id,$.target.value),class:"mt-1 w-full rounded-md border border-gray-300 px-2 py-1 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",disabled:x.disabled},null,40,Ye)])])],10,Re))),128))])),_.value?V("",!0):(g(),f("div",We,[e("div",He,[s[9]||(s[9]=e("span",{class:"text-gray-600"},"Subtotal",-1)),e("span",Xe,"Rs "+d(m.subtotal.toFixed(2)),1)]),e("div",Ze,[e("div",et,[s[11]||(s[11]=e("span",{class:"text-gray-600"},"Invoice Discount",-1)),e("div",tt,[e("select",{value:m.invoiceDiscountMode,onChange:s[3]||(s[3]=n=>k(n)),class:"rounded-md border border-gray-300 px-2 py-1 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",disabled:x.disabled},[...s[10]||(s[10]=[e("option",{value:"flat"},"Flat",-1),e("option",{value:"percent"},"Percent",-1)])],40,ot),e("input",{value:m.invoiceDiscountValue,type:"number",min:"0",step:"0.01",onInput:s[4]||(s[4]=n=>b(n)),class:"w-24 rounded-md border border-gray-300 px-2 py-1 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",disabled:x.disabled},null,40,st)])]),e("div",nt,"Discount Amount: Rs "+d(m.invoiceDiscountAmount.toFixed(2)),1)]),e("div",it,[s[12]||(s[12]=e("span",null,"Grand Total",-1)),e("span",null,"Rs "+d(m.grandTotal.toFixed(2)),1)])])),e("button",{disabled:_.value||x.disabled,onClick:s[5]||(s[5]=n=>r("checkout")),class:"mt-4 w-full rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white disabled:cursor-not-allowed disabled:bg-gray-300",title:"Checkout"}," Checkout ",8,at)]))}}),ut={class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4"},dt={class:"w-full max-w-lg rounded-lg bg-white shadow-lg"},rt={class:"flex items-center justify-between border-b px-4 py-3"},ct={class:"max-h-[60vh] overflow-y-auto p-4"},mt={class:"text-sm text-gray-600"},vt={class:"mt-3 divide-y divide-gray-100"},gt={class:"flex items-center justify-between"},pt={class:"text-gray-700"},xt={class:"font-medium text-gray-900"},ft={class:"flex justify-between text-xs text-gray-500"},bt={class:"mt-4 space-y-2 text-sm"},yt={class:"flex items-center justify-between"},ht={class:"font-medium text-gray-900"},Dt={class:"flex items-center justify-between"},_t={class:"font-medium text-gray-900"},kt={class:"flex items-center justify-between"},wt={class:"text-gray-600"},Ct={class:"font-medium text-gray-900"},$t={class:"mt-3 flex items-center justify-between border-t pt-3"},Mt={class:"text-base font-semibold text-gray-900"},St={class:"flex justify-end gap-2 border-t px-4 py-3"},It=j({__name:"ReceiptModal",props:{items:{},subtotal:{},productDiscountTotal:{},invoiceDiscountMode:{},invoiceDiscountValue:{},invoiceDiscountAmount:{},grandTotal:{}},emits:["confirm","cancel"],setup(m,{emit:p}){const x=m,r=p;return(_,a)=>(g(),f("div",ut,[e("div",dt,[e("div",rt,[a[3]||(a[3]=e("h3",{class:"text-base font-semibold text-gray-900"},"Receipt",-1)),e("button",{class:"text-gray-500 hover:text-gray-700",onClick:a[0]||(a[0]=c=>r("cancel"))},"✕")]),e("div",ct,[e("div",mt,"Date/Time: "+d(new Date().toLocaleString()),1),e("ul",vt,[(g(!0),f(P,null,L(x.items,c=>(g(),f("li",{key:c.id,class:"py-2 text-sm"},[e("div",gt,[e("span",pt,d(c.name)+" × "+d(c.quantity),1),e("span",xt,"Rs "+d(c.lineTotal.toFixed(2)),1)]),e("div",ft,[e("span",null,"Gross: Rs "+d(c.gross.toFixed(2)),1),e("span",null,"Discount: Rs "+d(c.lineDiscount.toFixed(2)),1)])]))),128))]),e("div",bt,[e("div",yt,[a[4]||(a[4]=e("span",{class:"text-gray-600"},"Subtotal",-1)),e("span",ht,"Rs "+d(m.subtotal.toFixed(2)),1)]),e("div",Dt,[a[5]||(a[5]=e("span",{class:"text-gray-600"},"Product Discounts",-1)),e("span",_t,"Rs "+d(m.productDiscountTotal.toFixed(2)),1)]),e("div",kt,[e("span",wt," Invoice Discount ("+d(m.invoiceDiscountMode==="percent"?`${m.invoiceDiscountValue}%`:`Rs ${m.invoiceDiscountValue}`)+") ",1),e("span",Ct,"Rs "+d(m.invoiceDiscountAmount.toFixed(2)),1)])]),e("div",$t,[a[6]||(a[6]=e("span",{class:"text-sm font-medium text-gray-700"},"Grand Total",-1)),e("span",Mt,"Rs "+d(m.grandTotal.toFixed(2)),1)])]),e("div",St,[e("button",{class:"rounded-md border border-gray-300 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:a[1]||(a[1]=c=>r("cancel"))},"Cancel"),e("button",{class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",onClick:a[2]||(a[2]=c=>r("confirm"))},"Confirm")])])]))}}),Vt={class:"space-y-2"},Tt={class:"flex gap-2"},Nt=j({__name:"PaymentSelect",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(m){const p=me(m,"modelValue");return(x,r)=>(g(),f("div",Vt,[r[3]||(r[3]=e("div",{class:"text-sm font-medium text-gray-700"},"Payment Type",-1)),e("div",Tt,[e("button",{class:T([p.value==="cash"?"bg-green-600 text-white":"bg-gray-100 text-gray-800","rounded-md px-3 py-1 text-sm"]),onClick:r[0]||(r[0]=_=>p.value="cash")},"Cash",2),e("button",{class:T([p.value==="card"?"bg-green-600 text-white":"bg-gray-100 text-gray-800","rounded-md px-3 py-1 text-sm"]),onClick:r[1]||(r[1]=_=>p.value="card")},"Card",2),e("button",{class:T([p.value==="mobile"?"bg-green-600 text-white":"bg-gray-100 text-gray-800","rounded-md px-3 py-1 text-sm"]),onClick:r[2]||(r[2]=_=>p.value="mobile")},"Mobile",2)])]))}}),At={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},Ft={class:"lg:col-span-2"},qt={class:"mb-3 flex items-center gap-2"},Rt=["onKeydown"],Pt={class:"lg:col-span-1"},jt={class:"mt-4 space-y-3"},Ut={class:"rounded-lg border border-gray-200 bg-white p-3 shadow-sm"},Et=["value"],Lt={key:0,class:"mt-2 text-xs text-gray-600"},Bt={class:"rounded-lg border border-gray-200 bg-white p-3 shadow-sm"},Ot={key:0,class:"rounded-lg border border-gray-200 bg-white p-3 shadow-sm"},Kt={class:"mb-2 flex items-center gap-2"},Qt={key:0,class:"mt-2"},Gt=["max"],zt={class:"mt-1 text-xs text-gray-600"},Jt={class:"text-red-600"},oe="posCart",Q="posSelectedCartItemId",Zt=j({__name:"PosView",setup(m){const p=ve(),x=ge(),r=pe(),_=xe(),a=ee([]),c=w(null),k=w(""),b=w("cash"),v=w(null),s=w(!1),n=w(0),$=w("Cashier-1"),N=w(!1),B=w(!1),h=w(null),y=ee({mode:"flat",value:0}),A=C(()=>a.map(t=>{const o=t.price*t.quantity,i=Math.max(t.discountValue,0),l=t.discountMode==="percent"?o*Math.min(i,100)/100:i,D=Math.min(l,o),u=o-D;return{...t,gross:o,lineDiscount:D,lineTotal:u}})),S=C(()=>A.value.reduce((t,o)=>t+o.lineTotal,0)),O=C(()=>A.value.reduce((t,o)=>t+o.lineDiscount,0)),F=C(()=>{const t=S.value;if(t<=0)return 0;if(y.mode==="percent"){const o=Math.min(Math.max(y.value,0),100);return t*o/100}return Math.min(Math.max(y.value,0),t)}),M=C(()=>Math.max(S.value-F.value,0)),se=C(()=>O.value+F.value),z=C(()=>s.value?Math.max(0,M.value-n.value):0),U=C(()=>r.customersForCurrentStore),J=C(()=>!!_.activeShift);function Y(t){if(!_.activeShift){alert("Start a shift before adding items to the cart.");return}if(t.stock<1)return;const o=a.find(i=>i.id===t.id);if(o){o.quantity<t.stock&&(o.quantity+=1);return}a.push({id:t.id,name:t.name,price:t.price,quantity:1,stock:t.stock,image:t.image,discountMode:"flat",discountValue:0})}function ne(t,o){const i=a.find(I=>I.id===t);if(!i)return;const l=p.products.find(I=>I.id===t),D=l?l.stock:i.stock,u=Math.max(1,Math.min(o,D));i.quantity=u}function W(t){const o=a.findIndex(i=>i.id===t);o!==-1&&(a.splice(o,1),c.value===t&&(c.value=null))}function ie(t){const o=a.find(i=>i.id===t.id);if(o&&(t.mode&&(o.discountMode=t.mode,o.discountMode==="percent"&&o.discountValue>100&&(o.discountValue=100)),t.value!==void 0)){let i=Math.max(t.value,0);o.discountMode==="percent"&&i>100&&(i=100),o.discountValue=i}}function ae(t){y.mode=t,t==="percent"&&y.value>100&&(y.value=100),t==="flat"&&y.value>S.value&&(y.value=S.value)}function le(t){let o=Math.max(t,0);y.mode==="percent"&&o>100&&(o=100),y.value=o}function H(){if(a.length){if(!_.activeShift){alert("Please start a shift before processing sales.");return}if(M.value<=0){alert("Grand total must be greater than zero.");return}N.value=!0}}function ue(){const t=v.value?r.customersForCurrentStore.find(l=>l.id===v.value):null,o=z.value,i=x.recordSale({datetime:new Date().toISOString(),items:A.value.map(l=>({id:l.id,name:l.name,quantity:l.quantity,unitPrice:l.price,discountMode:l.discountMode,discountValue:l.discountValue,lineDiscount:l.lineDiscount,lineTotal:l.lineTotal})),subtotal:S.value,productDiscountTotal:O.value,invoiceDiscountMode:y.mode,invoiceDiscountValue:y.value,invoiceDiscountAmount:F.value,totalDiscount:se.value,total:M.value,paymentType:b.value,cashier:$.value,customerId:v.value||void 0,customerName:(t==null?void 0:t.fullName)||void 0,dueAmount:o>0?o:void 0});p.decrementStock(a.map(l=>({id:l.id,quantity:l.quantity}))),a.splice(0,a.length),c.value=null,v.value=null,s.value=!1,n.value=0,y.mode="flat",y.value=0,N.value=!1,h.value={invoiceNumber:i.invoiceNumber,datetime:i.datetime,items:i.items.map(l=>({name:l.name,quantity:l.quantity,unitPrice:l.unitPrice,lineDiscount:l.lineDiscount,lineTotal:l.lineTotal})),subtotal:i.subtotal,productDiscountTotal:i.productDiscountTotal,invoiceDiscountMode:i.invoiceDiscountMode,invoiceDiscountValue:i.invoiceDiscountValue,invoiceDiscountAmount:i.invoiceDiscountAmount,total:i.total,paymentType:i.paymentType,cashier:i.cashier,customerName:i.customerName},localStorage.setItem("lastInvoice",JSON.stringify(h.value)),B.value=!0}function de(){N.value=!1}function re(t){c.value=t}function X(){const t=k.value.trim();if(!t)return;const o=p.byBarcode.get(t);o&&(Y(o),k.value="")}function Z(t){t.key==="Enter"&&!N.value&&a.length?(t.preventDefault(),H()):t.key==="Delete"&&c.value!=null&&(t.preventDefault(),W(c.value))}return E(s,t=>{t?n.value=M.value:n.value=0}),E(M,t=>{s.value&&n.value>t&&(n.value=t)}),E(a,t=>{localStorage.setItem(oe,JSON.stringify(t))},{deep:!0}),E(c,t=>{t==null?localStorage.removeItem(Q):localStorage.setItem(Q,String(t))}),fe(()=>{p.load(),x.load(),r.load(),_.setCurrentStore();const t=localStorage.getItem(oe);if(t)try{const l=JSON.parse(t);Array.isArray(l)&&a.splice(0,a.length,...l.map(D=>{const u=p.products.find(ce=>ce.id===D.id),I=u?u.stock:D.stock;return{id:D.id,name:D.name,price:D.price,quantity:Math.max(1,Math.min(D.quantity??1,I??1)),stock:I,image:D.image,discountMode:D.discountMode||"flat",discountValue:D.discountValue??0}}))}catch{}const o=localStorage.getItem(Q);if(o){const l=Number(o);c.value=Number.isFinite(l)?l:null}const i=localStorage.getItem("lastInvoice");if(i)try{h.value=JSON.parse(i)}catch{h.value=null}window.addEventListener("keydown",Z)}),be(()=>{window.removeEventListener("keydown",Z)}),(t,o)=>{var i,l,D;return g(),f(P,null,[e("div",At,[e("section",Ft,[e("div",qt,[q(e("input",{"onUpdate:modelValue":o[0]||(o[0]=u=>k.value=u),onKeydown:ye(R(X,["prevent"]),["enter"]),type:"text",placeholder:"Scan or enter barcode",class:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"},null,40,Rt),[[G,k.value]]),e("button",{onClick:X,class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-medium text-white"},"Add")]),K(Ne,{products:he(p).products,disabled:!J.value,onAdd:Y},null,8,["products","disabled"])]),e("aside",Pt,[K(lt,{items:A.value,subtotal:S.value,invoiceDiscountMode:y.mode,invoiceDiscountValue:y.value,invoiceDiscountAmount:F.value,grandTotal:M.value,selectedId:c.value,disabled:!J.value,onSelect:re,onUpdateQty:ne,onRemove:W,onCheckout:H,onUpdateItemDiscount:ie,onUpdateInvoiceDiscountMode:ae,onUpdateInvoiceDiscountValue:le},null,8,["items","subtotal","invoiceDiscountMode","invoiceDiscountValue","invoiceDiscountAmount","grandTotal","selectedId","disabled"]),e("div",jt,[e("div",Ut,[o[7]||(o[7]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},"Customer (Optional)",-1)),q(e("select",{"onUpdate:modelValue":o[1]||(o[1]=u=>v.value=u),class:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"},[o[6]||(o[6]=e("option",{value:null},"Walk-in Customer",-1)),(g(!0),f(P,null,L(U.value,u=>(g(),f("option",{key:u.id,value:u.id},d(u.fullName)+" ("+d(u.phone)+") ",9,Et))),128))],512),[[De,v.value]]),v.value?(g(),f("div",Lt,[e("div",null,"Total Purchases: ₹"+d(((i=U.value.find(u=>u.id===v.value))==null?void 0:i.totalPurchases.toFixed(2))||"0.00"),1),e("div",{class:T((l=U.value.find(u=>u.id===v.value))!=null&&l.totalDue?"text-red-600":"text-green-600")}," Current Due: ₹"+d(((D=U.value.find(u=>u.id===v.value))==null?void 0:D.totalDue.toFixed(2))||"0.00"),3)])):V("",!0)]),e("div",Bt,[K(Nt,{modelValue:b.value,"onUpdate:modelValue":o[2]||(o[2]=u=>b.value=u)},null,8,["modelValue"])]),v.value?(g(),f("div",Ot,[e("div",Kt,[q(e("input",{"onUpdate:modelValue":o[3]||(o[3]=u=>s.value=u),type:"checkbox",id:"creditSale",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[_e,s.value]]),o[8]||(o[8]=e("label",{for:"creditSale",class:"text-sm font-medium text-gray-700"},"Credit Sale",-1))]),s.value?(g(),f("div",Qt,[o[9]||(o[9]=e("label",{class:"block text-sm text-gray-700"},"Amount Paid",-1)),q(e("input",{"onUpdate:modelValue":o[4]||(o[4]=u=>n.value=u),type:"number",min:"0",max:M.value,step:"0.01",class:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"},null,8,Gt),[[G,n.value,void 0,{number:!0}]]),e("div",zt,[e("div",null,"Grand Total: ₹"+d(M.value.toFixed(2)),1),e("div",Jt,"Due: ₹"+d(z.value.toFixed(2)),1)])])):V("",!0)])):V("",!0)])])]),N.value?(g(),te(It,{key:0,items:A.value,subtotal:S.value,productDiscountTotal:O.value,invoiceDiscountMode:y.mode,invoiceDiscountValue:y.value,invoiceDiscountAmount:F.value,grandTotal:M.value,onConfirm:ue,onCancel:de},null,8,["items","subtotal","productDiscountTotal","invoiceDiscountMode","invoiceDiscountValue","invoiceDiscountAmount","grandTotal"])):V("",!0),B.value&&h.value?(g(),te(ke,{key:1,invoiceNumber:h.value.invoiceNumber,datetime:h.value.datetime,items:h.value.items,subtotal:h.value.subtotal,productDiscountTotal:h.value.productDiscountTotal,invoiceDiscountMode:h.value.invoiceDiscountMode,invoiceDiscountValue:h.value.invoiceDiscountValue,invoiceDiscountAmount:h.value.invoiceDiscountAmount,total:h.value.total,paymentType:h.value.paymentType,cashier:h.value.cashier,customerName:h.value.customerName,onClose:o[5]||(o[5]=u=>B.value=!1)},null,8,["invoiceNumber","datetime","items","subtotal","productDiscountTotal","invoiceDiscountMode","invoiceDiscountValue","invoiceDiscountAmount","total","paymentType","cashier","customerName"])):V("",!0)],64)}}});export{Zt as default};
